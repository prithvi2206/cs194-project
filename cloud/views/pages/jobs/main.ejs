<!-- views/pages/jobs.ejs -->

<!DOCTYPE html>
<html lang="en">
<head>
  <% include ../../partials/head %>
</head>

<body>
  <div id="wrapper">

    <header>
      <% include ../../partials/header %>
    </header>

    <main>
      <div id="page-wrapper">

        <div class="container-fluid">

          <!-- Page Heading -->
          <div class="row">
            <div class="col-lg-12">
              <h1 class="page-header">
                Job Applications <small>Overview</small>
              </h1>
              <ol class="breadcrumb">
                <li class="active">
                  <i class="fa fa-briefcase"></i> Jobs
                </li>
              </ol>
            </div>
          </div>

          <alerts>
            <% include ../../partials/alerts %>
          </alerts>

          <div class="row">
            <div class="col-lg-12">

              <div class="file-option-container padding-5">
                <button id="addJobButton" class="btn btn-primary" data-toggle="modal" data-target="#newJobModal">Add New Job</button>
              </div>

            </div>
          </div>
          <div class="row">&nbsp;</div>
          <div class="row" style="overflow: hidden;">
            <% for(var i=0; i<jobs.length; i++) {%>

            <!-- Information for a single application -->
            <div class="col-lg-3 col-md-6">
              <div class="panel panel-default">
                <div class="panel-heading">
                  <div class="row">
                    <div class="col-xs-2">
                      <i class="fa fa-briefcase fa-2x"></i>
                    </div>
                    <div class="col-xs-10 text-right">
                      <div class="item-header"><%= jobs[i].get("company") %></div>
                      <div><%= jobs[i].get("title") %></div>
                    </div>
                  </div>
                </div>
                <a href="/jobs/view/<%= jobs[i].id %>">
                  <div class="panel-footer">
                    <span class="pull-left">View Details</span>
                    <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                    <div class="clearfix"></div>
                  </div>
                </a>
              </div>
            </div>
            <!-- End of single app -->

            <% } %>
          </div>

        </div>
        <!-- /.container-fluid -->
      </div>
    </main>

  </div>

  <div class="modal fade" id="newJobModal" tabindex="-1" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <form id="jobAddForm" role="form" method="post" action="/jobs/add" enctype="multipart/form-data">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">Add Job</h4>
          </div>
          <div class="modal-body">
           <div class="form-group">
            <label>Company Name</label>
            <input name="company" class="form-control">
          </div>
          <div class="form-group">
            <label>Position Title</label>
            <input name="position" class="form-control" placeholder="For example, Software Engineering Intern">
          </div>
          <div class="form-group">
            <label>Description</label>
            <textarea name="desc" placeholder="Any notes about the job application you want to keep track of" class="form-control" rows="3"></textarea>
          </div>
        </div>
        <div class="modal-footer">
          <input id="jobAddButton" type="submit" class="btn btn-custom">
        </div>
      </form>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->  

<footer>
  <% include ../../partials/footer %>
</footer>

</body>
</html>

